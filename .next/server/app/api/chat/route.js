(()=>{var e={};e.id=276,e.ids=[276],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2481:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>l,routeModule:()=>c,serverHooks:()=>x,workAsyncStorage:()=>d,workUnitAsyncStorage:()=>u});var n={};r.r(n),r.d(n,{POST:()=>p});var o=r(6559),s=r(8088),a=r(7719),i=r(8520);async function p(e){let{messages:t}=await e.json(),r=i.google.getGenerativeModel({model:"gemini-1.5-pro"}).startChat({history:t.slice(0,-1).map(e=>({role:"user"===e.role?"user":"model",parts:[{text:Array.isArray(e.content)?e.content.join("\n"):e.content}]}))}),n=await r.sendMessageStream(t[t.length-1].content);return new Response(new ReadableStream({async start(e){try{for await(let t of n.stream){let r=t.text(),n=`data: ${JSON.stringify({text:r})}

`;e.enqueue(new TextEncoder().encode(n))}e.enqueue(new TextEncoder().encode("data: [DONE]\n\n")),e.close()}catch(t){e.error(t)}}}),{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}})}let c=new o.AppRouteRouteModule({definition:{kind:s.RouteKind.APP_ROUTE,page:"/api/chat/route",pathname:"/api/chat",filename:"route",bundlePath:"app/api/chat/route"},resolvedPagePath:"C:\\Users\\likho\\OneDrive\\GitHub\\Apex\\src\\app\\api\\chat\\route.ts",nextConfigOutput:"",userland:n}),{workAsyncStorage:d,workUnitAsyncStorage:u,serverHooks:x}=c;function l(){return(0,a.patchFetch)({workAsyncStorage:d,workUnitAsyncStorage:u})}},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6487:()=>{},6559:(e,t,r)=>{"use strict";e.exports=r(4870)},8335:()=>{},8520:()=>{throw Error("Module build failed (from ./node_modules/next/dist/build/webpack/loaders/next-swc-loader.js):\nError:   \x1b[31mx\x1b[0m Expression expected\n    ,-[\x1b[36;1;4mC:\\Users\\likho\\OneDrive\\GitHub\\Apex\\src\\lib\\ai\\providers.ts\x1b[0m:23:1]\n \x1b[2m20\x1b[0m | \n \x1b[2m21\x1b[0m | // Create Google AI provider instance\n \x1b[2m22\x1b[0m | export const google = new GoogleGenerativeAI(process.env.GEMINI_API_KEY!);\n \x1b[2m23\x1b[0m | };\n    : \x1b[35;1m^\x1b[0m\n    `----\n\n\nCaused by:\n    Syntax Error")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[719],()=>r(2481));module.exports=n})();